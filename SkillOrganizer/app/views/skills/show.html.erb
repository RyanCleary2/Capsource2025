<div class="skill-detail-page">
  <!-- Header Section with Hero -->
  <div class="skill-hero">
    <div class="hero-background"></div>
    <div class="hero-content">
      <div class="breadcrumb">
        <%= link_to skills_path, class: "breadcrumb-link" do %>
          <span>‚Üê</span> Back to Skills
        <% end %>
      </div>

      <h1 class="skill-hero-title"><%= @skill[:name] %></h1>

      <div class="skill-hero-meta">
        <% category = SkillDataService.categories.find { |cat| cat[:id] == @skill[:category] } %>
        <span class="hero-badge hero-badge-category category-<%= @skill[:category] %>">
          <%= category&.dig(:name) || 'Uncategorized' %>
        </span>
        <span class="hero-badge hero-badge-level level-<%= @skill[:skill_level] %>">
          <%= @skill[:skill_level]&.capitalize || 'Intermediate' %>
        </span>
        <% if @skill[:domain] %>
          <span class="hero-badge hero-badge-domain">
            <%= @skill[:domain] %>
          </span>
        <% end %>
      </div>

      <div class="hero-actions">
        <button class="btn btn-hero-primary" onclick="openRoadmapModal(<%= @skill[:id] %>)">
          <span class="btn-icon">üó∫Ô∏è</span>
          View Roadmap
        </button>
        <%= link_to edit_skill_path(@skill[:id]), class: "btn btn-hero-secondary" do %>
          <span class="btn-icon">‚úèÔ∏è</span>
          Edit Skill
        <% end %>
      </div>
    </div>
  </div>

  <!-- Main Content Grid -->
  <div class="skill-detail-content">
    <!-- Description Card -->
    <div class="detail-card card-primary">
      <div class="card-header">
        <span class="card-icon">üìù</span>
        <h2>Description</h2>
      </div>
      <div class="card-body">
        <p class="skill-description"><%= @skill[:description] %></p>
      </div>
    </div>

    <!-- Two Column Layout -->
    <div class="detail-grid">
      <!-- Left Column: Details -->
      <div class="detail-card">
        <div class="card-header">
          <span class="card-icon">‚ÑπÔ∏è</span>
          <h3>Skill Details</h3>
        </div>
        <div class="card-body">
          <div class="detail-list">
            <div class="detail-row">
              <span class="detail-label">Skill Level</span>
              <span class="detail-value">
                <span class="level-badge level-<%= @skill[:skill_level] %>">
                  <%= @skill[:skill_level]&.capitalize || 'Intermediate' %>
                </span>
              </span>
            </div>
            <div class="detail-row">
              <span class="detail-label">Domain</span>
              <span class="detail-value"><%= @skill[:domain] || 'General' %></span>
            </div>
            <div class="detail-row">
              <span class="detail-label">Partner</span>
              <span class="detail-value">
                <% if @skill[:partner].present? %>
                  <%= @skill[:partner] %>
                <% else %>
                  <span class="empty-value">No partner assigned</span>
                <% end %>
              </span>
            </div>
            <div class="detail-row">
              <span class="detail-label">Created</span>
              <span class="detail-value">
                <% if @skill[:created_at] %>
                  <%= @skill[:created_at].strftime("%B %d, %Y") %>
                  <small class="date-relative">(<%= time_ago_in_words(@skill[:created_at]) %> ago)</small>
                <% else %>
                  <span class="empty-value">Unknown</span>
                <% end %>
              </span>
            </div>
            <div class="detail-row">
              <span class="detail-label">Skill ID</span>
              <span class="detail-value detail-id">#<%= @skill[:id] %></span>
            </div>
          </div>
        </div>
      </div>

      <!-- Right Column: Tags -->
      <% if @skill[:tags].any? %>
        <div class="detail-card">
          <div class="card-header">
            <span class="card-icon">üè∑Ô∏è</span>
            <h3>Tags & Categories</h3>
          </div>
          <div class="card-body">
            <div class="tags-grid">
              <% @skill[:tags].each do |tag| %>
                <span class="tag-badge-modern"><%= tag %></span>
              <% end %>
            </div>
          </div>
        </div>
      <% end %>
    </div>

    <!-- Related Skills Section -->
    <% if @related_skills.any? %>
      <div class="detail-card card-related">
        <div class="card-header">
          <span class="card-icon">üîó</span>
          <h3>Related Skills</h3>
          <span class="card-subtitle"><%= @related_skills.count %> similar skills</span>
        </div>
        <div class="card-body">
          <div class="related-skills-grid">
            <% @related_skills.each do |related_skill| %>
              <%= link_to skill_path(related_skill[:id]), class: "related-skill-card" do %>
                <div class="related-skill-header">
                  <strong class="related-skill-name"><%= related_skill[:name] %></strong>
                  <span class="related-skill-arrow">‚Üí</span>
                </div>
                <% related_category = SkillDataService.categories.find { |cat| cat[:id] == related_skill[:category] } %>
                <div class="related-skill-meta">
                  <span class="related-category-badge category-<%= related_skill[:category] %>">
                    <%= related_category&.dig(:name) || 'Other' %>
                  </span>
                  <span class="related-level">
                    <%= related_skill[:skill_level]&.capitalize || 'Intermediate' %>
                  </span>
                </div>
              <% end %>
            <% end %>
          </div>
        </div>
      </div>
    <% end %>

    <!-- Quick Actions Footer -->
    <div class="detail-actions-footer">
      <%= link_to skills_path, class: "btn btn-footer-secondary" do %>
        <span>‚Üê</span> Back to All Skills
      <% end %>
      <div class="action-group">
        <button class="btn btn-footer-primary" onclick="openRoadmapModal(<%= @skill[:id] %>)">
          View Progression Roadmap
        </button>
        <%= link_to edit_skill_path(@skill[:id]), class: "btn btn-footer-edit" do %>
          Edit Details
        <% end %>
      </div>
    </div>
  </div>
</div>