<!-- app/views/projects/index.html.erb -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CapSource AI Project Generator</title>
  <%= stylesheet_link_tag 'application', media: 'all' %>
  <%= javascript_importmap_tags %>
  <style>
    :root {
      --primary-color: #e27d60;
      --primary-light: #e8a87c;
      --primary-dark: #c7654e;
      --secondary-color: #85cdca;
      --accent-color: #c38d9e;
      --text-color: #41444b;
      --light-bg: #f8f9fa;
      --white: #ffffff;
      --dark-accent: #41444b;
      --light-accent: #f2f3f4;
      --border-radius: 8px;
      --box-shadow: 0 10px 20px rgba(0, 0, 0, 0.05);
      --content-shadow: 0 6px 12px rgba(226, 125, 96, 0.1);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }

    body {
      background-color: var(--light-bg);
      color: var(--text-color);
      line-height: 1.6;
    }

    .container {
      width: 100%;
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px;
    }

    header {
      background-color: var(--white);
      box-shadow: 0 2px 15px rgba(0, 0, 0, 0.08);
      position: sticky;
      top: 0;
      z-index: 1000;
    }

    .header-container {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 15px 0;
    }

    .logo {
      display: flex;
      align-items: center;
    }

    .logo img {
      height: 40px;
      margin-right: 10px;
    }

    .logo h1 {
      color: var(--primary-color);
      font-size: 24px;
      font-weight: 600;
    }

    nav {
      display: flex;
      margin-left: 40px;
    }

    .nav-links {
      display: flex;
      list-style: none;
      gap: 25px;
    }

    .nav-links a {
      color: var(--text-color);
      text-decoration: none;
      font-weight: 500;
      transition: color 0.3s;
      font-size: 15px;
    }

    .nav-links a:hover {
      color: var(--primary-color);
    }

    .auth-buttons {
      display: flex;
      gap: 10px;
    }

    .btn {
      padding: 10px 22px;
      border-radius: var(--border-radius);
      font-weight: 500;
      cursor: pointer;
      transition: all 0.3s;
      text-decoration: none;
      text-align: center;
      font-size: 14px;
    }

    .btn-outline {
      border: 2px solid var(--primary-color);
      color: var(--primary-color);
      background: transparent;
    }

    .btn-outline:hover {
      background-color: var(--primary-color);
      color: var(--white);
      transform: translateY(-2px);
    }

    .btn-primary {
      background: linear-gradient(135deg, var(--primary-color) 0%, var(--primary-light) 100%);
      color: var(--white);
      border: none;
      box-shadow: 0 4px 8px rgba(226, 125, 96, 0.3);
    }

    .btn-primary:hover {
      box-shadow: 0 6px 12px rgba(226, 125, 96, 0.4);
      transform: translateY(-2px);
    }

    .hero {
      background: linear-gradient(135deg, var(--primary-color) 0%, var(--primary-light) 100%);
      padding: 60px 0;
      color: white;
      text-align: center;
      position: relative;
      overflow: hidden;
    }

    .hero::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: radial-gradient(circle at 20% 20%, rgba(255, 255, 255, 0.1) 0%, transparent 40%),
                        radial-gradient(circle at 80% 80%, rgba(255, 255, 255, 0.1) 0%, transparent 40%);
    }

    .hero-content {
      position: relative;
      z-index: 1;
    }

    .hero h1 {
      font-size: 36px;
      margin-bottom: 15px;
      font-weight: 700;
    }

    .hero p {
      font-size: 18px;
      max-width: 800px;
      margin: 0 auto;
      opacity: 0.9;
    }

    .project-generator {
      padding: 60px 0;
    }

    .generator-container {
      background-color: var(--white);
      border-radius: var(--border-radius);
      box-shadow: var(--box-shadow);
      padding: 40px;
      margin-top: -80px;
      position: relative;
      z-index: 10;
    }

    .generator-heading {
      text-align: center;
      margin-bottom: 40px;
    }

    .generator-heading h2 {
      font-size: 30px;
      color: var(--primary-dark);
      margin-bottom: 10px;
      font-weight: 700;
    }

    .generator-heading p {
      color: #666;
      font-size: 16px;
    }

    .form-section {
      margin-bottom: 30px;
      padding-bottom: 20px;
      border-bottom: 1px solid rgba(0, 0, 0, 0.05);
    }

    .form-section:last-child {
      border-bottom: none;
    }

    .form-section h3 {
      font-size: 20px;
      margin-bottom: 20px;
      color: var(--primary-dark);
    }

    .form-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
    }

    .form-group {
      margin-bottom: 20px;
    }

    .form-group label {
      display: block;
      margin-bottom: 8px;
      font-weight: 500;
      color: var(--text-color);
    }

    .optional-label {
      color: #999;
      font-size: 14px;
      font-weight: normal;
    }

    .form-group input[type="text"],
    .form-group input[type="url"],
    .form-group select,
    .form-group textarea {
      width: 100%;
      padding: 12px;
      border: 1px solid #ddd;
      border-radius: var(--border-radius);
      font-size: 15px;
      transition: border-color 0.3s, box-shadow 0.3s;
    }

    .form-group input[type="text"]:focus,
    .form-group input[type="url"]:focus,
    .form-group select:focus,
    .form-group textarea:focus {
      border-color: var(--primary-color);
      box-shadow: 0 0 0 3px rgba(226, 125, 96, 0.1);
      outline: none;
    }

    .form-group textarea {
      min-height: 120px;
      resize: vertical;
    }

    .generation-mode {
      background-color: var(--light-accent);
      padding: 20px;
      border-radius: var(--border-radius);
      margin-bottom: 20px;
    }

    .generation-mode label {
      display: flex;
      align-items: center;
      font-weight: 500;
      margin-bottom: 10px;
    }

    .generation-mode input[type="checkbox"] {
      margin-right: 10px;
      width: 18px;
      height: 18px;
    }

    .generation-mode p {
      color: #666;
      font-size: 14px;
      margin-left: 28px;
    }

    .topics-checkboxes {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 10px;
      max-height: 300px;
      overflow-y: auto;
      padding: 15px;
      background-color: var(--light-accent);
      border-radius: var(--border-radius);
    }

    .topics-checkboxes label {
      display: flex;
      align-items: center;
      font-weight: normal;
      font-size: 14px;
    }

    .topics-checkboxes input[type="checkbox"] {
      margin-right: 8px;
    }

    .form-footer {
      margin-top: 30px;
      text-align: center;
    }

    .generate-btn {
      padding: 15px 40px;
      background: linear-gradient(135deg, var(--primary-color) 0%, var(--primary-light) 100%);
      color: white;
      border: none;
      border-radius: var(--border-radius);
      font-weight: 600;
      font-size: 16px;
      cursor: pointer;
      transition: all 0.3s;
      box-shadow: 0 4px 8px rgba(226, 125, 96, 0.3);
    }

    .generate-btn:hover {
      box-shadow: 0 6px 12px rgba(226, 125, 96, 0.4);
      transform: translateY(-2px);
    }

    .hidden {
      display: none;
    }

    @media (max-width: 768px) {
      .form-grid {
        grid-template-columns: 1fr;
      }

      .topics-checkboxes {
        grid-template-columns: 1fr 1fr;
      }

      .generator-container {
        padding: 30px 20px;
      }

      .hero {
        padding: 40px 0;
      }

      .hero h1 {
        font-size: 28px;
      }

      .hero p {
        font-size: 16px;
      }
    }

    @media (max-width: 576px) {
      .topics-checkboxes {
        grid-template-columns: 1fr;
      }
    }

    footer {
      background-color: var(--dark-accent);
      color: var(--white);
      padding: 30px 0;
      font-size: 14px;
      margin-top: 60px;
    }

    .footer-container {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .footer-links {
      display: flex;
      gap: 20px;
    }

    .footer-links a {
      color: var(--white);
      text-decoration: none;
      transition: color 0.3s;
    }

    .footer-links a:hover {
      color: var(--primary-light);
    }
  </style>
</head>
<body>
  <header>
    <div class="container header-container">
      <div style="display: flex; align-items: center;">
        <div class="logo">
          <%= image_tag 'logo.png', alt: 'CapSource Logo', height: '40' %>
          <h1>CapSource</h1>
        </div>
        <nav>
          <ul class="nav-links">
            <li><a href="#">EDUCATORS</a></li>
            <li><a href="#">STUDENTS</a></li>
            <li><a href="#">ORGANIZATIONS</a></li>
            <li><a href="#">OPPORTUNITIES</a></li>
            <li><a href="#">LEARN MORE</a></li>
          </ul>
        </nav>
      </div>
      <div class="auth-buttons">
        <a href="#" class="btn btn-outline">LOGIN</a>
        <a href="#" class="btn btn-primary">REGISTER</a>
      </div>
    </div>
  </header>

  <section class="hero">
    <div class="container hero-content">
      <h1>AI-Powered Project Generator</h1>
      <p>Create industry-relevant projects for students with AI assistance. Choose to generate a full project scope or explore project ideas based on topics.</p>
    </div>
  </section>

  <section id="generator" class="project-generator">
    <div class="container">
      <div class="generator-container">
        <div class="generator-heading">
          <h2>Project Generator</h2>
          <p>Fill in the details below to create a customized project or explore project ideas with AI assistance</p>
        </div>

        <%= form_with url: generate_project_path, local: true do |f| %>
          <% if flash.now[:alert] %>
            <div style="color: #e74c3c; background-color: #f9eae9; padding: 15px; border-radius: var(--border-radius); margin-bottom: 20px;">
              <%= flash.now[:alert] %>
            </div>
          <% end %>

          <div class="form-section">
            <h3>Basic Information</h3>
            <div class="form-grid">
              <div class="form-group">
                <%= f.label :website_url, 'Website URL' %>
                <%= f.url_field :website_url, placeholder: 'Enter your company website URL', required: true %>
              </div>
              <div class="form-group">
                <%= f.label :project_owner, 'Project Owner' %> <span class="optional-label">(optional)</span>
                <%= f.text_field :project_owner, placeholder: 'Enter project owner\'s name' %>
              </div>
            </div>
          </div>

          <div class="form-section">
            <h3>Generation Mode</h3>
            <div class="generation-mode">
              <label>
                <%= f.check_box :mode, { multiple: false }, 'ideas', 'scope' %> Generate Project Ideas (instead of full scope)
              </label>
              <p>Generate a list of project ideas based on selected topics, or create a detailed project scope with milestones and deliverables.</p>
            </div>
          </div>

          <div class="form-section" id="background-group">
            <h3>Project Details</h3>
            <div class="form-group">
              <%= f.label :background, 'Background & Objectives' %>
              <%= f.text_area :background, placeholder: 'Describe the project background and objectives', required: true %>
            </div>

            <div class="form-grid">
              <div class="form-group">
                <%= f.label :industry, 'Industry' %> <span class="optional-label">(optional but recommended)</span>
                <%= f.select :industry, [['Select an industry', ''], 'Technology', 'Healthcare', 'Finance', 'Education', 'Retail', 'Manufacturing', 'Non-profit'] %>
              </div>
              <div class="form-group">
                <%= f.label :project_type, 'Project Type' %> <span class="optional-label">(optional but recommended)</span>
                <%= f.select :project_type, [['Select project type', ''], 'Case Study', 'Live Project', 'Research Project', 'Internship', 'Competition'] %>
              </div>
            </div>
          </div>

          <div class="form-section hidden" id="topics-group">
            <h3>Project Topics</h3>
            <div class="form-group">
              <%= f.label :topics, 'Select Topics' %> <span class="optional-label">(select at least one)</span>
              <div class="topics-checkboxes">
                <% ["Technology Commercialization","Innovation","Training & Development","Inventory Management", "Electrical Engineering", "Mechanical Engineering", "Market Research","Digital Marketing","Information Technology (IT)","PR & Communications","Employee and Labor Management","Entrepreneurship","Child Online Safety","Cybersecurity","Civil Engineering","Child Welfare","Urban Planning","Research, Analysis, Evaluation","Public Administration","Political Organization, Policy Change, and Advocacy","Individual and Family Advocacy","Facilitation, Mediation, Conflict Resolution","Economic Development, Work and Occupations","Crisis and Disaster Management","Courts, Corrections, and Law Enforcement","Community Organization and Social Action","Case Management","Substance Use, Addiction, and Recovery","International Affairs","Reporting, Financial Planning & Analysis","Talent Management","Software Design & Development","Sales & Business Development","Research & Development","Quality Control","Purchasing, Logistics, Supply Chain","Product Design & Development","Organizational Culture","Operations","Mergers & Acquisitions","Marketing","Legal, Regulatory, Compliance","Growth Strategy","Data Management","Customer Service & Account Management","Corporate Social Responsibility"].each do |topic| %>
                  <label>
                    <%= check_box_tag 'topics[]', topic %> <%= topic %>
                  </label>
                <% end %>
              </div>
            </div>
          </div>

          <div class="form-footer">
            <%= f.submit 'Generate Project Scope', class: 'generate-btn' %>
          </div>
        <% end %>
      </div>
    </div>
  </section>

  <footer>
    <div class="container footer-container">
      <div>© 2025 CapSource. All rights reserved.</div>
      <div class="footer-links">
        <a href="#">Privacy Policy</a>
        <a href="#">Terms of Service</a>
        <a href="#">Contact Us</a>
      </div>
    </div>
  </footer>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const modeCheckbox = document.querySelector('input[name="mode"]');
      const backgroundGroup = document.getElementById('background-group');
      const topicsGroup = document.getElementById('topics-group');
      const generateButton = document.querySelector('.generate-btn');
      
      modeCheckbox.addEventListener('change', function() {
        if (this.checked) {
          backgroundGroup.classList.add('hidden');
          topicsGroup.classList.remove('hidden');
          generateButton.value = 'Generate Project Ideas';
        } else {
          backgroundGroup.classList.remove('hidden');
          topicsGroup.classList.add('hidden');
          generateButton.value = 'Generate Project Scope';
        }
      });
    });
  </script>
</body>
</html>